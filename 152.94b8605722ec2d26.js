"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[152],{7152:($,u,o)=>{o.r(u),o.d(u,{HistoriqueCommandeModule:()=>Y});var r=o(6814),h=o(2129),v=o(6726),e=o(4769),p=o(7039),l=o(95),C=o(3212),f=o(7213);function T(n,d){if(1&n&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),e._uU(4),e.qZA(),e.TgZ(5,"div",13),e._uU(6),e.qZA(),e.TgZ(7,"div",14),e._uU(8),e.qZA()()()()),2&n){const a=d.$implicit;e.xp6(4),e.hij(" ",a.codeArticle," "),e.xp6(2),e.hij(" ",a.quantite," "),e.xp6(2),e.hij(" ",a.montantTTc," TND ")}}const D=function(){return{width:"90vw",height:"80vh"}};let Z=(()=>{var n;class d{constructor(t){this.boncommandeService=t,this.display=!0,this.showinhistorique=new e.vpe,this.ligneCommande=[]}ngOnInit(){const t=this.entete.numeroBonCommande.replace("/","-");this.boncommandeService.getListLigneBonCommande(t).then(i=>{this.ligneCommande=i})}onHide(){this.showinhistorique.emit(!1)}}return(n=d).\u0275fac=function(t){return new(t||n)(e.Y36(p.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail-bon-commande"]],inputs:{entete:"entete",display:"display"},outputs:{showinhistorique:"showinhistorique"},decls:15,vars:11,consts:[["header","D\xe9tail Bon Commande ","label","Show",1,"p-fluid","listeArticleCommande",3,"visible","maximizable","modal","visibleChange","onHide"],[1,"card","mt-3"],[1,"flex",2,"display","flex","justify-content","space-between"],[1,"p-field","p-col-12","p-md-8","designation",2,"color","rgb(21, 4, 94)","font-size","15","font-weight","700"],[1,"mt-2",2,"display","flex","justify-content","center"],[1,"p-field","p-col-12","p-md-8","designation",2,"font-size","15px"],[1,"p-field","p-col-12","p-md-2","amount",2,"font-size","15px"],[1,"limited-height-all"],["class","cart-item field",4,"ngFor","ngForOf"],[1,"cart-item","field"],[1,"card",2,"padding","1.5rem","margin-bottom","1rem"],[1,"flex",2,"display","flex","justify-content","space-between","margin-top","1px","margin-bottom","-11px"],[1,"p-field","p-col-12","p-md-8","designation",2,"font-size","16","font-weight","500"],[1,"p-field","p-col-12","p-md-2","amount",2,"font-size","16","font-weight","800"],[1,"p-field","p-col-12","p-md-2","amount",2,"font-size","13","font-weight","400"]],template:function(t,i){1&t&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return i.display=s})("onHide",function(){return i.onHide()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"h6"),e._uU(7),e.qZA()(),e.TgZ(8,"div",2)(9,"div",5),e._uU(10),e.qZA(),e.TgZ(11,"div",6),e._uU(12),e.qZA()()(),e.TgZ(13,"div",7),e.YNc(14,T,9,3,"div",8),e.qZA()()),2&t&&(e.Akn(e.DdM(10,D)),e.Q6J("visible",i.display)("maximizable",!1)("modal",!0),e.xp6(4),e.hij(" ",i.entete.numeroBonCommande," "),e.xp6(3),e.Oqu(i.entete.nomClient),e.xp6(3),e.hij(" ",i.entete.totalTTc," TND "),e.xp6(2),e.hij(" ",i.entete.date," "),e.xp6(2),e.Q6J("ngForOf",i.ligneCommande))},dependencies:[r.sg,f.V],styles:[".listeArticleCommande .p-dialog-draggable .p-dialog-header{cursor:move;padding:.5rem}.card[_ngcontent-%COMP%]{background:var(--surface-card);border:1px solid var(--surface-border);padding:.5rem;margin-bottom:2rem;box-shadow:var(--card-shadow);border-radius:12px}  .listeArticleCommande .p-dialog-content{background-color:#eff3f8}  .card .ligne{background:var(--surface-card);border:1px solid var(--surface-border);box-shadow:var(--card-shadow);border-radius:12px}.limited-height-all[_ngcontent-%COMP%]{height:55vh;overflow-y:auto}"]}),d})();function y(n,d){if(1&n){const a=e.EpF();e.TgZ(0,"div",9)(1,"div",10),e.NdJ("click",function(){const m=e.CHM(a).$implicit,s=e.oxw();return e.KtG(s.cardClick(m))}),e.TgZ(2,"div",11)(3,"div",12),e._uU(4),e.qZA()(),e.TgZ(5,"div",13)(6,"h6"),e._uU(7),e.qZA()(),e.TgZ(8,"div",11)(9,"div",14),e._uU(10),e.qZA(),e.TgZ(11,"div",15),e._uU(12),e.qZA()()()()}if(2&n){const a=d.$implicit;e.xp6(4),e.hij(" ",a.numeroBonCommande," "),e.xp6(3),e.Oqu(a.nomClient),e.xp6(3),e.hij(" ",a.totalTTc," TND "),e.xp6(2),e.hij(" ",a.date," ")}}function x(n,d){if(1&n){const a=e.EpF();e.TgZ(0,"app-detail-bon-commande",16),e.NdJ("showinhistorique",function(i){e.CHM(a);const m=e.oxw();return e.KtG(m.handleShowUpdated(i))}),e.qZA()}if(2&n){const a=e.oxw();e.Q6J("entete",a.entete)("display",!0)}}let B=(()=>{var n;class d{constructor(t){this.boncommandeService=t,this.dateBonCommande={},this.listBonCommande=[],this.showDetails=!1}ngOnInit(){const t=localStorage.getItem("token"),i=(0,v.Z)(t);this.dateBonCommande.codeLivreur=""!=i.CodeLivreur?i.CodeLivreur:"00";const m=new Date,s=m.getFullYear(),E=new Date(s,0,1),P=new Date(s,m.getMonth(),m.getDate());this.dateBonCommande.dateDebut=E;let c=new Date(this.dateBonCommande.dateDebut);c.setHours(c.getHours()+1),this.dateBonCommande.dateDebut=c,this.dateBonCommande.dateFin=P;let g=new Date(this.dateBonCommande.dateFin);g.setHours(g.getHours()+4),this.dateBonCommande.dateFin=g,this.boncommandeService.getListBonCommande(this.dateBonCommande).then(X=>{this.listBonCommande=X})}onDateDebutChange(){}cardClick(t){this.entete=t,this.showDetails=!0}handleShowUpdated(t){this.showDetails=t}}return(n=d).\u0275fac=function(t){return new(t||n)(e.Y36(p.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-historique-commande"]],decls:14,vars:6,consts:[[1,"mt-2","mb-2",2,"display","flex","justify-content","space-between"],["inputId","dateDebut","required","true","dateFormat","dd/mm/yy",3,"showIcon","ngModel","ngModelChange"],["dateDebut",""],[2,"margin-left","0.5rem"],["inputId","dateFin","required","true","dateFormat","dd/mm/yy",3,"showIcon","ngModel","ngModelChange"],["dateFin",""],[1,"limited-height-all"],["class","cart-item field",4,"ngFor","ngForOf"],[3,"entete","display","showinhistorique",4,"ngIf"],[1,"cart-item","field"],[1,"card",3,"click"],[1,"flex",2,"display","flex","justify-content","space-between"],[1,"p-field","p-col-12","p-md-8","designation",2,"color","rgb(21, 4, 94)","font-size","15","font-weight","700"],[1,"mt-2",2,"display","flex","justify-content","center"],[1,"p-field","p-col-12","p-md-8","designation",2,"font-size","15px"],[1,"p-field","p-col-12","p-md-2","amount",2,"font-size","15px"],[3,"entete","display","showinhistorique"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"strong"),e._uU(3,"Date Du"),e.qZA(),e.TgZ(4,"p-calendar",1,2),e.NdJ("ngModelChange",function(s){return i.dateBonCommande.dateDebut=s})("ngModelChange",function(){return i.onDateDebutChange()}),e.qZA()(),e.TgZ(6,"div",3)(7,"strong"),e._uU(8,"Date Au"),e.qZA(),e.TgZ(9,"p-calendar",4,5),e.NdJ("ngModelChange",function(s){return i.dateBonCommande.dateFin=s})("ngModelChange",function(){return i.onDateDebutChange()}),e.qZA()()(),e.TgZ(11,"div",6),e.YNc(12,y,13,4,"div",7),e.qZA(),e.YNc(13,x,1,2,"app-detail-bon-commande",8)),2&t&&(e.xp6(4),e.Q6J("showIcon",!0)("ngModel",i.dateBonCommande.dateDebut),e.xp6(5),e.Q6J("showIcon",!0)("ngModel",i.dateBonCommande.dateFin),e.xp6(3),e.Q6J("ngForOf",i.listBonCommande),e.xp6(1),e.Q6J("ngIf",i.showDetails))},dependencies:[r.sg,r.O5,l.JJ,l.Q7,l.On,C.f,Z],styles:[".card[_ngcontent-%COMP%]{transition:all .1s ease;padding:1rem}.limited-height-all[_ngcontent-%COMP%]{height:70vh;overflow-y:auto}"]}),d})(),b=(()=>{var n;class d{}return(n=d).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild([{path:"",component:B}]),h.Bz]}),d})();var H=o(4237),w=o(8981),M=o(1825),q=o(3714),A=o(3965),F=o(6022),j=o(707),J=o(7327),O=o(5389),U=o(7161),z=o(4104),I=o(9502),N=o(8608),S=o(5359),Q=o(5043),L=o(9445);let Y=(()=>{var n;class d{}return(n=d).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[p.l],imports:[r.ez,b,H.FI,w.f,M.C,q.j,A.kW,F.Xt,J.WN,j.hJ,f.S,O.fx,U.O,I.$,z.EV,N.TX,l.u5,S.x,Q.t,L.Q,C._8]}),d})()}}]);